package com.CS477.drinkandgo;

import android.os.Bundle;
import android.os.Handler;
import android.view.View;
import android.widget.TextView;

import com.CS477.drinkandgo.activities.DrinkAndGoActivity;
import com.CS477.drinkandgo.activities.MainActivity;
import com.CS477.drinkandgo.listeners.DrinkAndGoErrorListener;
import com.android.volley.Response.ErrorListener;
import com.android.volley.Response.Listener;
import com.android.volley.toolbox.StringRequest;
import com.android.volley.toolbox.Volley;

public class OrderActivity extends DrinkAndGoActivity 
{
	private String status;
	
	public OrderActivity() 
	{	super(R.layout.activity_order);}

	@Override
	protected void onCreate(Bundle savedInstanceState) 
	{
		super.onCreate(savedInstanceState);
		
		TextView orderNum = (TextView) findViewById(R.id.order_number);
		Integer num = (Integer) getIntent().getSerializableExtra("Integer");
		orderNum.setText(num.toString());
		
		Handler handler = new Handler();
		handler.postDelayed(new GetStatus(), 10000);
	}
	
	@Override
	public void goBack(View view)
	{	startActivity(MainActivity.class);}
	
	private class GetStatus implements Runnable
	{
		@Override
		public void run() 
		{
			Volley.newRequestQueue(OrderActivity.this).add(new GetStatusRequest());
			if(!status.equals("complete"))
			{
				
			}
		}	
	}
	
	private class GetStatusRequest extends StringRequest
	{
		public GetStatusRequest() 
		{
			super(Method.GET, STATUS_URL, listener, 
			new DrinkAndGoErrorListener(OrderActivity.this));
		}
		
	}
}
