package com.CS477.drinkandgo;

import android.content.SharedPreferences.Editor;
import android.view.View;
import android.widget.TextView;
import android.widget.Toast;


public class SignUpActivity extends DrinkAndGoActivity 
{
	public SignUpActivity()
	{	super(R.layout.activity_sign_up);}
	
	public void performSignUp(View view)
	{
		TextView password = get(R.id.password_view),
				password2 = get(R.id.password_view2);
		
		if(password.getText().toString().equals(password2.getText().toString()))
		{
			TextView username = get(R.id.username_view),
					email = get(R.id.email_view),
					cardNum = get(R.id.card_number_view);
			
			Editor editor = getPrefs();
			editor.putString("username", username.getText().toString());
			editor.putString("email", email.getText().toString());
			editor.putString("cardNum", cardNum.getText().toString());
			editor.putString("password", password.getText().toString());
			
			editor.apply();
			startActivity(VenueSearchActivity.class);
		}
		else
		{
			Toast.makeText(this, getString(R.string.password_error), 
								Toast.LENGTH_SHORT).show();
			password.setText("");
			password2.setText("");
		}
	}
	
	private TextView get(int contentID)
	{	return (TextView) findViewById(contentID);}
}
