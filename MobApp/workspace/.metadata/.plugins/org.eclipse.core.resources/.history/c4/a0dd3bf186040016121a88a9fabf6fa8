package com.CS477.drinkandgo.activities;

import org.json.JSONArray;
import org.json.JSONObject;

import android.util.Log;

import com.CS477.drinkandgo.Customer;
import com.CS477.drinkandgo.Drink;
import com.CS477.drinkandgo.Venue;
import com.android.volley.Response.Listener;

public class GetDatabaseListener implements Listener<JSONObject> 
{
	@Override
	public void onResponse(JSONObject obj) 
	{
		//get customers
		JSONArray array = obj.getJSONArray("customers").getJSONArray(0);
		for(int i = 0, n = array.length(); i < n; ++i)
			customers.add(new Customer(array.getJSONObject(i)));
		
		//get venues
		array = obj.getJSONArray("venues").getJSONArray(0);
		for(int i = 0, n = array.length(); i < n; ++i)
			venues.add(new Venue(array.getJSONObject(i)));
		
		//get drinks
		array = obj.getJSONArray("drinks").getJSONArray(0);
		for(int i = 0, n = array.length(); i < n; ++i)
			drinks.add(new Drink(array.getJSONObject(i)));
		
		Log.i("Customers", customers.toString());
		Log.i("Venues", venues.toString());
		Log.i("Drinks", drinks.toString());
	}

}
